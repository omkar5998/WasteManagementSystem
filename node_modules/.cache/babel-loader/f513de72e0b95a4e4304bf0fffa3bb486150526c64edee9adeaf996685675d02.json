{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sidma\\\\Desktop\\\\Projects\\\\WasteManagementSystem\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"../css/login.css\";\nimport loginimg from \"../images/login.jpg\";\nimport { Link } from \"react-router-dom\";\nimport base_url from \"../api/bootapi\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  useEffect(() => {\n    document.title = \"Login\";\n  }, []);\n  const [user, setUser] = useState({});\n\n  //Handler of Login form\n  const handlerForm = e => {\n    checkLogin(user);\n    e.preventDefault();\n  };\n\n  //Login check method\n  const checkLogin = data => {\n    axios.post(`${base_url}/login`, data).then(response => {\n      if (response.data.length == 0) {\n        swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Wrong Credentials Entered or you have not registered yet.\"\n        });\n      } else {\n        if (response.data[0].admin == true) {\n          window.location = \"/admin\";\n          sessionStorage.setItem(\"admin\", \"admin\");\n        } else {\n          sessionStorage.setItem(\"username\", response.data[0].name);\n          const userdata = {\n            name: response.data[0].name,\n            email: response.data[0].email,\n            city: response.data[0].city,\n            phone: response.data[0].phone\n          };\n          sessionStorage.setItem(\"userdata\", JSON.stringify(userdata));\n          sessionStorage.setItem(\"userSession\", response.data[0].email);\n          localStorage.setItem(\"user\", response.data[0].email);\n          window.location = \"/home\";\n        }\n      }\n    }, error => {\n      console.log(error);\n      swal.fire({\n        icon: \"error\",\n        title: \"Oh no!\",\n        text: \"Server is down\"\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"login-img\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vh-100 d-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container w-50 m-auto log\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-5 p-0\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: loginimg,\n              className: \"w-100 log-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-7\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"m-auto w-75 pt-5 pb-5 align-self-center \",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center fw-bold mb-3\",\n                style: {\n                  color: \"#ba8b00\"\n                },\n                children: \"ZeroWaste\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center display-4\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handlerForm,\n                className: \"row g-3 mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"email\",\n                    class: \"form-label fs-5\",\n                    children: \"Email-ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: \"form-control\",\n                    id: \"email\",\n                    name: \"email\",\n                    onChange: e => {\n                      setUser({\n                        ...user,\n                        email: e.target.value\n                      });\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"password\",\n                    className: \"form-label fs-5\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"password\",\n                    onChange: e => {\n                      setUser({\n                        ...user,\n                        password: e.target.value\n                      });\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 mt-5 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"fs-5\",\n                    children: [\"Not Registered??\", /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/register\",\n                      className: \"text-decoration-none fs-5\",\n                      children: \"\\xA0 \\xA0Register here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-12 mt-5 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/forget\",\n                    class: \"text-decoration-none fs-5\",\n                    children: \"Forgot password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-12 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    class: \"btn btn-lg btn-primary ps-5 pe-5 p-2  mb-2\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"HioLqKSiJ1UE3do5mPMkwwOK/rg=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","loginimg","Link","base_url","axios","swal","Login","document","title","user","setUser","handlerForm","e","checkLogin","preventDefault","data","post","then","response","length","fire","icon","text","admin","window","location","sessionStorage","setItem","name","userdata","email","city","phone","JSON","stringify","localStorage","error","console","log","color","target","value","password"],"sources":["C:/Users/sidma/Desktop/Projects/WasteManagementSystem/src/components/Login.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../css/login.css\";\r\nimport loginimg from \"../images/login.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport base_url from \"../api/bootapi\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert2\";\r\n\r\nfunction Login() {\r\n  useEffect(() => {\r\n    document.title = \"Login\";\r\n  }, []);\r\n\r\n  const [user, setUser] = useState({});\r\n\r\n  //Handler of Login form\r\n  const handlerForm = (e) => {\r\n    checkLogin(user);\r\n    e.preventDefault();\r\n  };\r\n\r\n  //Login check method\r\n  const checkLogin = (data) => {\r\n    axios.post(`${base_url}/login`, data).then(\r\n      (response) => {\r\n        if (response.data.length == 0) {\r\n          swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: \"Wrong Credentials Entered or you have not registered yet.\",\r\n          });\r\n        } else {\r\n          if (response.data[0].admin == true) {\r\n            window.location = \"/admin\";\r\n            sessionStorage.setItem(\"admin\", \"admin\");\r\n          } else {\r\n            sessionStorage.setItem(\"username\", response.data[0].name);\r\n            const userdata = {\r\n              name: response.data[0].name,\r\n              email: response.data[0].email,\r\n              city: response.data[0].city,\r\n              phone: response.data[0].phone,\r\n            };\r\n            sessionStorage.setItem(\"userdata\", JSON.stringify(userdata));\r\n            sessionStorage.setItem(\"userSession\", response.data[0].email);\r\n            localStorage.setItem(\"user\", response.data[0].email);\r\n            window.location = \"/home\";\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oh no!\",\r\n          text: \"Server is down\",\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div class=\"login-img\">\r\n      <div className=\"vh-100 d-flex\">\r\n        <div className=\"container w-50 m-auto log\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-5 p-0\">\r\n              <img src={loginimg} className=\"w-100 log-img\" />\r\n            </div>\r\n            <div className=\"col-lg-7\">\r\n              <div className=\"m-auto w-75 pt-5 pb-5 align-self-center \">\r\n                <h1\r\n                  className=\"text-center fw-bold mb-3\"\r\n                  style={{ color: \"#ba8b00\" }}\r\n                >\r\n                  ZeroWaste\r\n                </h1>\r\n                <h1 className=\"text-center display-4\">Login</h1>\r\n\r\n                <form onSubmit={handlerForm} className=\"row g-3 mt-3\">\r\n                  <div className=\"col-md-12\">\r\n                    <label for=\"email\" class=\"form-label fs-5\">\r\n                      Email-ID\r\n                    </label>\r\n                    <input\r\n                      type=\"email\"\r\n                      className=\"form-control\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      onChange={(e) => {\r\n                        setUser({ ...user, email: e.target.value });\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-12 mt-4\">\r\n                    <label for=\"password\" className=\"form-label fs-5\">\r\n                      Password\r\n                    </label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      id=\"password\"\r\n                      onChange={(e) => {\r\n                        setUser({ ...user, password: e.target.value });\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-12 mt-5 text-center\">\r\n                    <h5 className=\"fs-5\">\r\n                      Not Registered??\r\n                      <Link\r\n                        to=\"/register\"\r\n                        className=\"text-decoration-none fs-5\"\r\n                      >\r\n                        &nbsp; &nbsp;Register here\r\n                      </Link>\r\n                    </h5>\r\n                  </div>\r\n                  <div class=\"col-md-12 mt-5 text-center\">\r\n                    <Link to=\"/forget\" class=\"text-decoration-none fs-5\">\r\n                      Forgot password?\r\n                    </Link>\r\n                  </div>\r\n                  <div class=\"col-md-12 text-center\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn btn-lg btn-primary ps-5 pe-5 p-2  mb-2\"\r\n                    >\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}